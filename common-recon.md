## https://github.com/ChronosPK/pentesting-cheatsheets

<br>

--------------------------------------------------
Prepare environment
--------------------------------------------------

### Choose victim IP
```bash
export IP=10.10.10.10
export URL=http://$IP
```
### Prepare files 
```bash
mkdir vulns
touch users
mkdir nmap
touch passwords
touch hashes
mkdir files
```


-------------------------------------------------
Single host recon - nmap 
--------------------------------------------------

### Intelligent scan
```bash
nmap -Pn -p- -v -T4 --max-retries 5 $IP -oN nmap/nmap.init;
cat nmap/nmap.init | grep '/.*open'| cut -d '/' -f 1| tr '\n' ', '| sed 's/.$//g' > nmap/ports;
sudo nmap -Pn -sS -sV -n -v -A -T4 -p $(cat nmap/ports) $IP -oN nmap/nmap.alltcp
```
### TCP scan
```bash
sudo nmap -O -Pn -p- -T4 --max-retries 4 -v $IP -oN nmap/nmap.tcp
```
### VULN scan
```bash
nmap -Pn -sC -sV -v -A -T4 -p- --max-retries 5 --open $IP -oN nmap/nmap.vuln
```
### UDP scan
```bash
nmap -sU -sV -sC -n -F -T4 $IP -oN nmap/nmap.udp
```
### Firewall evasion
```bash
nmap -PN -sS -sV -T4 --max-retries 3 --min-rate 450 --max-rtt-timeout 500ms --min-rtt-timeout 50ms -p- -f --source-port 53 --spoof-mac aa:bb:cc:dd:ee:ff $IP
```


--------------------------------------------------
Single host recon - other tools
--------------------------------------------------

### rustscan
```bash
rustscan -a $IP --ulimit 5000 -- -sC -sV -v -oN rustscan.init
```
### autorecon
```bash
autorecon -v --heartbeart 10
```

### legion
```bash
sudo legion #GUI
```
### zenmap
```bash
zenmap #GUI
```
### No man's land
```bash
for ip in 30 31 35; do echo "10.10.10.$IP:"; for i in {1..65535}; do echo 2>/dev/null > /dev/tcp/10.10.10.$IP/$i && echo -e "$IP open\n"; done; done;
```


--------------------------------------------------
Network of hosts recon
--------------------------------------------------

### netdiscover
```bash
sudo netdiscover -i eth0 -r 10.10.10.0/24
```
### fping
```bash
fping -a -g $NET 2>/dev/null > hosts
```
### masscan
```bash
masscan $NET –echo > output.conf
```
### nmap
```bash
nmap -sn $NET -oN nmap.discovery;
cat nmap.discovery | grep -i report | cut -d' ' -f5 > hosts
```
### no man's land
```bash
for IP in {1..254} ;do (ping -c 1 10.10.10.$IP | grep "bytes from" | awk '{print $4}' | cut -d ":" -f 1 &) ;done
```
